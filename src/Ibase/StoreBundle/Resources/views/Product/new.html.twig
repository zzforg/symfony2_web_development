{% extends '::base.html.twig' %}

{% block body %}
    <h1>Product creation</h1>

{#    {{ form_start(form) }}
    {{form_errors(form)}}
    {# render insert attributes #}
 {#    {{ form_row(form.price) }}
       {% macro prototype(specification) %}
         <tr>
                 <td>{{form_widget(specification.fieldname)}}</td>
                 <td>{{form_widget(specification.description)}} </td>
                 <td><ul><li><a href="#">Add</a></li><li><a href="#">Remove</a></li></ul>
         </tr>
     {% endmacro %}
     <table>
         <caption></caption>
         <thead><tr>Specifications</tr></thead>
         <tbody>
             {% for specification in form.specification %}
                {{_self.prototype(answer)}}
             {% endfor %}
         </tbody>
     </table>
    {{ form_rest(form) }} #}

    {{ form_start(form) }}
    {# render the task's only field: description #}
    {{ form_row(form.name) }}

    <h3>Specifications</h3>
    <ul class="specifications" data-prototype="{{ form_widget(form.specifications.vars.prototype)|e }}" >
        {# iterate over each existing tag and render its only field: name #}
        {% for specification in form.specifications %}
            <li>{{ form_row(specification.fieldName) }}</li>
            <li>{{ form_row(specification.description) }}</li>
        {% endfor %}
    </ul>

{{ form_end(form) }}
       <ul class="record_actions">
    <li>
        <a href="{{ path('product') }}">
            Back to the list
        </a>
    </li>
</ul>
    
{% block javascripts %}
    {% javascripts '@IbaseStoreBundle/Resources/public/js/jquery-1.8.3.min.js' 
                   '@IbaseStoreBundle/Resources/public/js/add_specification.js'%}
 <script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}
{% endblock %}

{% endblock %}
